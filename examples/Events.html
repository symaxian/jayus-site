<p>
	The jayus display below shows a listing of the most recent events, and is continually updated.
</p>
<div id="jayus"></div>

<script type='text/javascript'>

		topPadding = 4;
		leftPadding = 10;
		fontSize = 14;
	
		// TODO: Update with drag events

		function report(text){
			var newText = new jayus.MultiText(text).setPos(leftPadding,topPadding).setFontSize(fontSize).style({ fill: 'black' });
			var line = new jayus.StyledShape(new jayus.Polygon.Line(0,topPadding,display.getWidth(),topPadding));
			if(frameOcurred){
				line.style({ stroke: 'red' });
			}
			else{
				line.style({ stroke: 'white' });
			}
			display.addChild(line);
			display.onEachChild('move',[0,newText.getHeight()+8]);
			display.addChild(newText);
			display.onEachChild('move',[0,6]);
			display.forEachChild(function(){
				if(this.getOrigin().y > display.getHeight()){
					display.removeChild(this);
				}
				this.setAlpha(this.getAlpha()*0.85);
			});
			frameOcurred = false;
			// newText.debugRenderer = jayus.debug.defaultDebugRenderer;
		}
	
		function report2(event,data){
			var text = [event];
			for(var key in data){
				if(data.hasOwnProperty(key)){
					text.push('    '+key+': '+data[key]);
				}
			}
			report(text);
		}

		jayus.init();

		// Create and set the display

		display = new jayus.Display(800,600);
		display.setInto(document.getElementById('jayus'));
		display.getCanvas().style.border = "1px solid black";

		display.styleBg({ fill: 'lightgrey' })

		jayus.handle({

			leftDrag: function(e){
				report2('leftDrag',e);
			},

			middleDrag: function(e){
				report2('middleDrag',e);
			},

			rightDrag: function(e){
				report2('rightDrag',e);
			},

			leftPress: function(e){
				report2('leftPress',e);
			},
		
			leftRelease: function(e){
				report2('leftRelease',e);
			},
		
			leftClick: function(e){
				report2('leftClick',e);
			},

			leftDoubleClick: function(e){
				report2('leftDoubleClick',e);
			},

			middlePress: function(e){
				report2('middlePress',e);
			},
		
			middleRelease: function(e){
				report2('middleRelease',e);
			},
		
			middleClick: function(e){
				report2('middleClick',e);
			},

			middleDoubleClick: function(e){
				report2('middleDoubleClick',e);
			},

			rightPress: function(e){
				report2('rightPress',e);
			},
		
			rightRelease: function(e){
				report2('rightRelease',e);
			},
		
			rightClick: function(e){
				report2('rightClick',e);
			},

			rightDoubleClick: function(e){
				report2('rightDoubleClick',e);
			},

			scroll: function(e){
				report2('scroll',e);
				return true;
			},

			keyPress: function(e){
				report2('keyPress',e);
				return true;
			},

			keyRelease: function(e){
				report2('keyRelease',e);
				return true;
			},

			keyTap: function(e){
				report2('keyTap',e);
				return true;
			},

			charType: function(e){
				report2('charType',e);
				return true;
			}

		});

		display.handle({

			cursorEnter: function(e){
				report2('cursorEnter',e);
			},
		
			cursorLeave: function(e){
				report2('cursorLeave',e);
			},
		
			cursorMove: function(e){
				report2('cursorMove',e);
			}

		});

		frameOcurred = false;
		jayus.addHandler('frame',function(){
			frameOcurred = true;
		});

		jayus.start();
	
</script>